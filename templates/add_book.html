{% include 'header.html' %}
{% include 'adminnav.html' %}
<body>
    <div class="container">
        <h3 class="text-center">Add Book</h3>
        <form method="POST" action="{{ url_for('add_book') }}">
            <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" id="title" name="title" required>
            </div>
            <div class="form-group">
                <label for="author">Author</label>
                <input type="text" class="form-control" id="author" name="author" required>
            </div>
            <div class="form-group">
                <label for="isbn">ISBN</label>
                <input type="text" class="form-control" id="isbn" name="isbn" required>
            </div>
            <div class="form-group">
                <label for="category">Category</label>
                <input type="text" class="form-control" id="category" name="category" required>
            </div>
            <div class="form-group">
                <label for="year">Year</label>
                <input type="text" class="form-control" id="year" name="year" required>
            </div>
            <div class="form-group">
                <label for="language">Language</label>
                <input type="text" class="form-control" id="language" name="language" required>
            </div>
            <div class="form-group">
                <label for="type">Type</label>
                <select class="form-control" id="type" name="type" required>
                    <option value="book">Book</option>
                    <option value="audio">Audio Book</option>
                    <option value="periodical">Periodical</option>
                </select>
            </div>
            <div id="additional-fields"></div>
            <button type="submit" class="btn btn-primary">Add Book</button>
        </form>
    </div>
    <script>
        $(document).ready(function() {
            $('#type').change(function() {
                var type = $(this).val();
                var additionalFields = $('#additional-fields');
                additionalFields.empty();
                
                if (type === 'audio') {
                    additionalFields.append('<div class="form-group"><label for="audio_format">Audio Format</label><input type="text" class="form-control" id="audio_format" name="audio_format" required></div>');
                }
            });
        });
    </script>
</body>